[watcher:treehouse-8002]
cmd = /opt/venv/treehouse/bin/python /opt/treehouse/server.py --config=/opt/treehouse/treehouse.conf --port=8002 --mongo_host={{ pillar["treehouse"]["mongo_host"] }} --sql_host={{ pillar["treehouse"]["sql_host"] }} --cache_enabled={{ pillar["treehouse"]["cache_enabled"] }} --memcached_host={{ pillar["treehouse"]["memcached_host"]}}
stdout_stream.class = FileStream
stderr_stream.class = FileStream

stdout_stream.filename = /var/log/circus/treehouse_out.log
stderr_stream.filename = /var/log/circus/treehouse_err.log

# optionally rotate the log file when it reaches 1 gb
# and save 3 copied of rotated files
stdout_stream.max_bytes = 1073741824
stdout_stream.backup_count = 3

# optionally rotate the log file when it reaches 1 gb
# and save 3 copied of rotated files
stderr_stream.max_bytes = 1073741824
stderr_stream.backup_count = 3