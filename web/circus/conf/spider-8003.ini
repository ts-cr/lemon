[watcher:spider-8003]
cmd = /opt/venv/spider/bin/python /opt/spider/server.py --config=/opt/spider/spider.conf --port=8003 --mongo_host={{ pillar["spider"]["mongo_host"] }} --sql_host={{ pillar["spider"]["sql_host"] }} --cache_enabled={{ pillar["spider"]["cache_enabled"] }} --memcached_host={{ pillar["spider"]["memcached_host"]}}
stdout_stream.class = FileStream
stderr_stream.class = FileStream

stdout_stream.filename = /var/log/circus/spider_out.log
stderr_stream.filename = /var/log/circus/spider_err.log

# optionally rotate the log file when it reaches 1 gb
# and save 3 copied of rotated files
stdout_stream.max_bytes = 1073741824
stdout_stream.backup_count = 3

# optionally rotate the log file when it reaches 1 gb
# and save 3 copied of rotated files
stderr_stream.max_bytes = 1073741824
stderr_stream.backup_count = 3